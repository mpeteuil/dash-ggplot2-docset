<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8"/>
<title>guide_legend. ggplot2 1.0.1.9003</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="author" content=""/>

<link href="css/bootstrap.css" rel="stylesheet"/>
<link href="css/bootstrap-responsive.css" rel="stylesheet"/>
<link href="css/highlight.css" rel="stylesheet"/>
<link href="css/staticdocs.css" rel="stylesheet"/>

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-67989-15']);
  _gaq.push(['_setDomainName', 'ggplot2.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">ggplot2 1.0.1.9003</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>Legend guide.</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><div>guide_legend(title = waiver(), title.position = NULL, title.theme = NULL, title.hjust = NULL, title.vjust = NULL, label = TRUE, label.position = NULL, label.theme = NULL, label.hjust = NULL, label.vjust = NULL, keywidth = NULL, keyheight = NULL, direction = NULL, default.unit = &#34;line&#34;, override.aes = list(), nrow = NULL, ncol = NULL, byrow = FALSE, reverse = FALSE, order = 0, ...)</div></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>title</dt>
      <dd>A character string or expression indicating a title of guide.
If <code>NULL</code>, the title is not shown. By default
(<code><a class="dashingAutolink" name="autolink-255"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/waiver"></a><a href="waiver.html">waiver</a></code>), the name of the scale object or the name
specified in <code><a class="dashingAutolink" name="autolink-256"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/labs"></a><a href="labs.html">labs</a></code> is used for the title.</dd>
      <dt>title.position</dt>
      <dd>A character string indicating the position of a
 title. One of &#34;top&#34; (default for a vertical guide), &#34;bottom&#34;, &#34;left&#34;
(default for a horizontal guide), or &#34;right.&#34;</dd>
      <dt>title.theme</dt>
      <dd>A theme object for rendering the title text. Usually the
object of <code><a class="dashingAutolink" name="autolink-257"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/element_text"></a><a href="element_text.html">element_text</a></code> is expected. By default, the theme is
specified by <code>legend.title</code> in <code><a class="dashingAutolink" name="autolink-258"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/theme"></a><a href="theme.html">theme</a></code> or theme.</dd>
      <dt>title.hjust</dt>
      <dd>A number specifying horizontal justification of the
title text.</dd>
      <dt>title.vjust</dt>
      <dd>A number specifying vertical justification of the title
text.</dd>
      <dt>label</dt>
      <dd>logical. If <code>TRUE</code> then the labels are drawn. If
<code>FALSE</code> then the labels are invisible.</dd>
      <dt>label.position</dt>
      <dd>A character string indicating the position of a
label. One of &#34;top&#34;, &#34;bottom&#34; (default for horizontal guide), &#34;left&#34;, or
&#34;right&#34; (default for vertical guide).</dd>
      <dt>label.theme</dt>
      <dd>A theme object for rendering the label text. Usually the
object of <code><a class="dashingAutolink" name="autolink-259"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/element_text"></a><a href="element_text.html">element_text</a></code> is expected. By default, the theme is
specified by <code>legend.text</code> in <code><a class="dashingAutolink" name="autolink-260"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/theme"></a><a href="theme.html">theme</a></code> or theme.</dd>
      <dt>label.hjust</dt>
      <dd>A numeric specifying horizontal justification of the
label text.</dd>
      <dt>label.vjust</dt>
      <dd>A numeric specifying vertical justification of the label
text.</dd>
      <dt>keywidth</dt>
      <dd>A numeric or a <code><a class="dashingAutolink" name="autolink-261"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/unit"></a><a href="http://www.inside-r.org/r-doc/grid/unit">unit</a></code> object specifying
the width of the legend key. Default value is <code>legend.key.width</code> or
<code>legend.key.size</code> in <code><a class="dashingAutolink" name="autolink-262"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/theme"></a><a href="theme.html">theme</a></code> or theme.</dd>
      <dt>keyheight</dt>
      <dd>A numeric or a <code><a class="dashingAutolink" name="autolink-263"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/unit"></a><a href="http://www.inside-r.org/r-doc/grid/unit">unit</a></code> object specifying
the height of the legend key. Default value is <code>legend.key.height</code> or
<code>legend.key.size</code> in <code><a class="dashingAutolink" name="autolink-264"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/theme"></a><a href="theme.html">theme</a></code> or theme.</dd>
      <dt>direction</dt>
      <dd>A character string indicating the direction of the guide.
One of &#34;horizontal&#34; or &#34;vertical.&#34;</dd>
      <dt>default.unit</dt>
      <dd>A character string indicating <code><a class="dashingAutolink" name="autolink-265"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/unit"></a><a href="http://www.inside-r.org/r-doc/grid/unit">unit</a></code>
for <code>keywidth</code> and <code>keyheight</code>.</dd>
      <dt>override.aes</dt>
      <dd>A list specifying aesthetic parameters of legend key.
See details and examples.</dd>
      <dt>nrow</dt>
      <dd>The desired number of rows of legends.</dd>
      <dt>ncol</dt>
      <dd>The desired number of column of legends.</dd>
      <dt>byrow</dt>
      <dd>logical. If <code>FALSE</code> (the default) the legend-matrix is
filled by columns, otherwise the legend-matrix is filled by rows.</dd>
      <dt>reverse</dt>
      <dd>logical. If <code>TRUE</code> the order of legends is reversed.</dd>
      <dt>order</dt>
      <dd>positive integer less that 99 that specifies the order of
this guide among multiple guides. This controls the order in which
multiple guides are displayed, not the contents of the guide itself.
If 0 (default), the order is determined by a secret algorithm.</dd>
      <dt>...</dt>
      <dd>ignored.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p></p><dl>
A guide object
</dl><p></p>
  
    </div>

    <div class="Description">
      <h2>Description</h2>

      <p>Legend type guide shows key (i.e., geoms) mapped onto values.
Legend guides for various scales are integrated if possible.</p>
  
    </div>

    <div class="Details">
      <h2>Details</h2>

      <p>Guides can be specified in each <code>scale_*</code> or in <code><a class="dashingAutolink" name="autolink-266"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/guides"></a><a href="guides.html">guides</a></code>.
<code>guide=&#34;legend&#34;</code> in <code>scale_*</code> is syntactic sugar for
<code>guide=guide_legend()</code> (e.g. <code>scale_color_manual(guide = &#34;legend&#34;)</code>).
As for how to specify the guide for each scale in more detail,
see <code><a class="dashingAutolink" name="autolink-267"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/guides"></a><a href="guides.html">guides</a></code>.</p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class="input">
df &lt;- reshape2::melt(outer(1:4, 1:4), varnames = c(&#34;X1&#34;, &#34;X2&#34;))

p1 &lt;- ggplot(df, aes(X1, X2)) + geom_tile(aes(fill = value))
p2 &lt;- p1 + geom_point(aes(size = value))

# Basic form
p1 + scale_fill_continuous(guide = &#34;legend&#34;)
</div>
<p><img src="guide_legend-2.png" alt="" width="540" height="400"/></p>
<div class="input">p1 + scale_fill_continuous(guide = guide_legend())
</div>
<p><img src="guide_legend-4.png" alt="" width="540" height="400"/></p>
<div class="input">
# Guide title

p1 + scale_fill_continuous(guide = guide_legend(title = &#34;V&#34;)) # title text
</div>
<p><img src="guide_legend-6.png" alt="" width="540" height="400"/></p>
<div class="input">p1 + scale_fill_continuous(guide = guide_legend(title = NULL)) # no title
</div>
<p><img src="guide_legend-8.png" alt="" width="540" height="400"/></p>
<div class="input">
# Control styles

# key size
p1 + guides(fill = guide_legend(keywidth = 3, keyheight = 1))
</div>
<p><img src="guide_legend-10.png" alt="" width="540" height="400"/></p>
<div class="input">
# title position
p1 + guides(fill = guide_legend(title = &#34;LEFT&#34;, title.position = &#34;left&#34;))
</div>
<p><img src="guide_legend-12.png" alt="" width="540" height="400"/></p>
<div class="input">
# title text styles via element_text
p1 + guides(fill = guide_legend(
  title.theme = element_text(size=15, face=&#34;italic&#34;, colour = &#34;red&#34;, angle = 45)))
</div>
<p><img src="guide_legend-14.png" alt="" width="540" height="400"/></p>
<div class="input">
# label position
p1 + guides(fill = guide_legend(label.position = &#34;bottom&#34;))
</div>
<p><img src="guide_legend-16.png" alt="" width="540" height="400"/></p>
<div class="input">
# label styles
p1 + scale_fill_continuous(breaks = c(5, 10, 15),
  labels = paste(&#34;long&#34;, c(5, 10, 15)),
  guide = guide_legend(direction = &#34;horizontal&#34;, title.position = &#34;top&#34;,
    label.position=&#34;bottom&#34;, label.hjust = 0.5, label.vjust = 0.5,
    label.theme = element_text(angle = 90)))
</div>
<p><img src="guide_legend-18.png" alt="" width="540" height="400"/></p>
<div class="input">
# Set aesthetic of legend key

# very low alpha value make it difficult to see legend key
p3 &lt;- ggplot(diamonds, aes(carat, price)) +
  geom_point(aes(colour=color), alpha=1/100)
p3
</div>
<p><img src="guide_legend-20.png" alt="" width="540" height="400"/></p>
<div class="input">
# override.aes overwrites the alpha
p3 + guides(colour = guide_legend(override.aes = list(alpha = 1)))
</div>
<p><img src="guide_legend-22.png" alt="" width="540" height="400"/></p>
<div class="input">
# multiple row/col legends
df &lt;- data.frame(x = 1:20, y = 1:20, color = letters[1:20])
p &lt;- ggplot(df, aes(x, y)) +
  geom_point(aes(colour = color))
p + guides(col = guide_legend(nrow = 8))
</div>
<p><img src="guide_legend-24.png" alt="" width="540" height="400"/></p>
<div class="input">p + guides(col = guide_legend(ncol = 8))
</div>
<p><img src="guide_legend-26.png" alt="" width="540" height="400"/></p>
<div class="input">p + guides(col = guide_legend(nrow = 8, byrow = TRUE))
</div>
<p><img src="guide_legend-28.png" alt="" width="540" height="400"/></p>
<div class="input">p + guides(col = guide_legend(ncol = 8, byrow = TRUE))
</div>
<p><img src="guide_legend-30.png" alt="" width="540" height="400"/></p>
<div class="input">
# reversed order legend
p + guides(col = guide_legend(reverse = TRUE))
</div>
<p><img src="guide_legend-32.png" alt="" width="540" height="400"/></p>
<div class="input"></div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>guide_legend</li>
    </ul>
    <ul>
      
    </ul> -->
      
    <h2>See also</h2>
    
Other guides: <code><a class="dashingAutolink" name="autolink-268"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/guide_colorbar"></a><a href="guide_colourbar.html">guide_colorbar</a></code>,
  <code><a class="dashingAutolink" name="autolink-269"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/guide_colourbar"></a><a href="guide_colourbar.html">guide_colourbar</a></code>; <code><a class="dashingAutolink" name="autolink-270"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/guides"></a><a href="guides.html">guides</a></code>

        
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>

<p class="feedback">What do you think of the documentation?  <a href="http://hadley.wufoo.com/forms/documentation-feedback/def/field0=guide_legend">Please let me know by filling out this short online survey</a>.</p>

<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="http://twitter.github.com/bootstrap">bootstrap</a>.</p>
      </footer>
    </div>
  
</body></html>